// app.js

function checkFile() {
    const fileInput = document.getElementById('fileInput');
    const selectedFile = fileInput.files[0];
    const resultElement = document.getElementById('result');

    if (selectedFile) {
        const formData = new FormData();
        formData.append('file', selectedFile);

        fetch('/check_file', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            console.log('Response:', data); // Log the entire response

            if (data.result !== undefined) {
                resultElement.innerText = data.result;
            } else {
                console.error('Undefined result:', data.result);
                resultElement.innerText = 'Error: Undefined result';
            }
        })
        .catch(error => {
            console.error('Error checking file:', error);
            resultElement.innerText = 'Error checking file';
        });
    } else {
        console.error('No file selected');
        resultElement.innerText = 'No file selected';
    }
}